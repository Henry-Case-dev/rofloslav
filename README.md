# Rofloslav Bot - –û—Å—Ç—Ä–æ—É–º–Ω—ã–π Telegram-–±–æ—Ç –Ω–∞ Go –∏ Gemini

–≠—Ç–æ Telegram-–±–æ—Ç, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π –Ω–∞ Go, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Google Gemini API –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤ –≤ –≥—Ä—É–ø–ø–æ–≤—ã—Ö —á–∞—Ç–∞—Ö. –ë–æ—Ç —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω –±—ã—Ç—å –æ—Å—Ç—Ä–æ—É–º–Ω—ã–º, –∏—Ä–æ–Ω–∏—á–Ω—ã–º –∏ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º –∫ —Å—Ç–∏–ª—é –æ–±—â–µ–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —á–∞—Ç–∞.

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

*   **–£—á–∞—Å—Ç–∏–µ –≤ –±–µ—Å–µ–¥–µ:** –ë–æ—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏—Å—Ç–æ—Ä–∏—é —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –æ—Ç–≤–µ—á–∞–µ—Ç –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∑–∞–¥–∞–Ω–Ω—ã–º "—Ö–∞—Ä–∞–∫—Ç–µ—Ä–æ–º" (–æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–º–ø—Ç –≤ `.env`).
*   **–ü—Ä—è–º—ã–µ –æ—Ç–≤–µ—Ç—ã:** –†–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è (@botname) –∏–ª–∏ –æ—Ç–≤–µ—Ç—ã –Ω–∞ —Å–≤–æ–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —Å–∞—Ä–∫–∞—Å—Ç–∏—á–µ—Å–∫–æ–π –º–∞–Ω–µ—Ä–µ (–ø—Ä–æ–º–ø—Ç `DIRECT_PROMPT`).
*   **–¢–µ–º–∞ –¥–Ω—è:** –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –µ–∂–µ–¥–Ω–µ–≤–Ω—É—é –ø—Ä–æ–≤–æ–∫–∞—Ü–∏–æ–Ω–Ω—É—é —Ç–µ–º—É –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è (–ø—Ä–æ–º–ø—Ç `DAILY_TAKE_PROMPT`, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–µ –≤—Ä–µ–º—è).
*   **–°–∞–º–º–∞—Ä–∏ —á–∞—Ç–∞:** –°–æ–∑–¥–∞–µ—Ç –∫—Ä–∞—Ç–∫–æ–µ –∏–∑–ª–æ–∂–µ–Ω–∏–µ –¥–∏–∞–ª–æ–≥–∞ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 24 —á–∞—Å–∞ –ø–æ –∫–æ–º–∞–Ω–¥–µ `/summary` –∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å –∑–∞–¥–∞–Ω–Ω—ã–º –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º (–ø—Ä–æ–º–ø—Ç `SUMMARY_PROMPT`).
*   **–ê–Ω–∞–ª–∏–∑ "—Å—Ä–∞—á–µ–π":**
    *   –û–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –Ω–∞—á–∞–ª–æ —Å–ø–æ—Ä–æ–≤/–∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º, –æ—Ç–≤–µ—Ç–∞–º –∏–ª–∏ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è–º (–ø—Ä–æ–º–ø—Ç `SRACH_WARNING_PROMPT`).
    *   –ü—ã—Ç–∞–µ—Ç—Å—è –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≤–µ—Ä—à–∏–≤—à–∏–π—Å—è —Å–ø–æ—Ä, –≤—ã–¥–µ–ª–∏—Ç—å —Å—Ç–æ—Ä–æ–Ω—ã, –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∏ –≤—ã–Ω–µ—Å—Ç–∏ –≤–µ—Ä–¥–∏–∫—Ç (–ø—Ä–æ–º–ø—Ç `SRACH_ANALYSIS_PROMPT`).
    *   –ò—Å–ø–æ–ª—å–∑—É–µ—Ç LLM –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –Ω–∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç—å –∫ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É (–ø—Ä–æ–º–ø—Ç `SRACH_CONFIRM_PROMPT`).
*   **–ù–∞—Å—Ç—Ä–æ–π–∫–∞:** –ü–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—ã `/settings` (–∏–Ω—Ç–µ—Ä–≤–∞–ª—ã –æ—Ç–≤–µ—Ç–æ–≤, –≤—Ä–µ–º—è —Ç–µ–º—ã –¥–Ω—è, –∏–Ω—Ç–µ—Ä–≤–∞–ª —Å–∞–º–º–∞—Ä–∏, –≤–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ –∞–Ω–∞–ª–∏–∑–∞ —Å—Ä–∞—á–µ–π).
*   **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏:** –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Å—Ç–æ—Ä–∏—é —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —Ñ–∞–π–ª (`/data/chat_<ID>.json`) –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏.

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

*   **–Ø–∑—ã–∫:** Go (Golang)
*   **AI –ú–æ–¥–µ–ª—å:** Google Gemini API (—á–µ—Ä–µ–∑ `google/generative-ai-go`) –∏–ª–∏ DeepSeek API (—á–µ—Ä–µ–∑ `sashabaranov/go-openai`)
*   **Telegram API:** –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ `go-telegram-bot-api/v5`
*   **–•—Ä–∞–Ω–∏–ª–∏—â–µ –∏—Å—Ç–æ—Ä–∏–∏ –∏ –ø—Ä–æ—Ñ–∏–ª–µ–π:**
    *   MongoDB (—á–µ—Ä–µ–∑ `go.mongodb.org/mongo-driver`) (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
    *   PostgreSQL (—á–µ—Ä–µ–∑ `lib/pq`)
    *   –§–∞–π–ª—ã JSON (`/data/chat_<ID>.json`) (–ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ—Ñ–∏–ª–µ–π)
*   **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** –§–∞–π–ª—ã `.env` –∏ `.env.secrets`, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
*   **–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ:** Docker (–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É Amvera)

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è AI –∑–∞–¥–∞—é—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `.env`.
–°–µ–∫—Ä–µ—Ç–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã (`TELEGRAM_TOKEN`, `GEMINI_API_KEY`, `DEEPSEEK_API_KEY`, –ø–∞—Ä–æ–ª–∏ –æ—Ç –ë–î, —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è MongoDB) —Å–ª–µ–¥—É–µ—Ç –ø–æ–º–µ—â–∞—Ç—å –≤ —Ñ–∞–π–ª `.env.secrets`. –≠—Ç–æ—Ç —Ñ–∞–π–ª –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore` –∏ –Ω–µ –¥–æ–ª–∂–µ–Ω –ø–æ–ø–∞–¥–∞—Ç—å –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–Ω–∞—á–∞–ª–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ `.env.secrets`, –∑–∞—Ç–µ–º –∏–∑ `.env`, –∏ –≤ –ø–æ—Å–ª–µ–¥–Ω—é—é –æ—á–µ—Ä–µ–¥—å –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–∏.

–ö–ª—é—á–µ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

*   `TELEGRAM_TOKEN`: –¢–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ Telegram –±–æ—Ç–∞.
*   `LLM_PROVIDER`: –í—ã–±–æ—Ä AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (`gemini` –∏–ª–∏ `deepseek`).
*   `GEMINI_API_KEY`: –ö–ª—é—á –¥–æ—Å—Ç—É–ø–∞ –∫ Google Gemini API (–µ—Å–ª–∏ `LLM_PROVIDER=gemini`).
*   `GEMINI_MODEL_NAME`: –ò—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –º–æ–¥–µ–ª—å Gemini (–Ω–∞–ø—Ä–∏–º–µ—Ä, `gemini-1.5-flash-latest`).
*   `DEEPSEEK_API_KEY`: –ö–ª—é—á –¥–æ—Å—Ç—É–ø–∞ –∫ DeepSeek API (–µ—Å–ª–∏ `LLM_PROVIDER=deepseek`).
*   `DEEPSEEK_MODEL_NAME`: –ò—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –º–æ–¥–µ–ª—å DeepSeek (–Ω–∞–ø—Ä–∏–º–µ—Ä, `deepseek-chat`).
*   `STORAGE_TYPE`: –¢–∏–ø —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ (`file`, `postgres` –∏–ª–∏ `mongo`). –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `mongo`.
*   `POSTGRESQL_HOST`, `POSTGRESQL_PORT`, `POSTGRESQL_USER`, `POSTGRESQL_PASSWORD`, `POSTGRESQL_DBNAME`: –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL (–µ—Å–ª–∏ `STORAGE_TYPE=postgres`).
*   `MONGODB_URI`: –°—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ MongoDB (–µ—Å–ª–∏ `STORAGE_TYPE=mongo`).
*   `CONTEXT_WINDOW`: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π, —Ö—Ä–∞–Ω–∏–º—ã—Ö –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —á–∞—Ç–∞.
*   `TIME_ZONE`: –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –∑–∞–¥–∞—á (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Asia/Yekaterinburg`).
*   `DEBUG`: –í–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ –æ—Ç–ª–∞–¥–∫–∏ (`true`/`false`).
*   –ü—Ä–æ–º–ø—Ç—ã (`DEFAULT_PROMPT`, `DIRECT_PROMPT`, `DAILY_TAKE_PROMPT`, `SUMMARY_PROMPT`, `SRACH_*_PROMPT`): –û–ø—Ä–µ–¥–µ–ª—è—é—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ AI –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö.
*   `ADMIN_USERNAMES`: –°–ø–∏—Å–æ–∫ –∏–º–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π Telegram (–±–µ–∑ @), –∫–æ—Ç–æ—Ä—ã–µ —è–≤–ª—è—é—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏ –±–æ—Ç–∞ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é).

**–ö–æ–º–∞–Ω–¥–∞ `/profile_set` (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤):**
–ü–æ–∑–≤–æ–ª—è–µ—Ç –≤—Ä—É—á–Ω—É—é –¥–æ–±–∞–≤–∏—Ç—å –∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
–§–æ—Ä–º–∞—Ç –≤–≤–æ–¥–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ –ø–æ—Å–ª–µ –∫–æ–º–∞–Ω–¥—ã:
`@username - –ü—Ä–æ–∑–≤–∏—â–µ - –ü–æ–ª (male/female/other) - –ù–∞—Å—Ç–æ—è—â–µ–µ –∏–º—è - –ë–∏–æ`
*   `@username`: –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ.
*   `–ü—Ä–æ–∑–≤–∏—â–µ`: –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ.
*   `–ü–æ–ª`: –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ (male, female, other, m, f).
*   `–ù–∞—Å—Ç–æ—è—â–µ–µ –∏–º—è`: –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ.
*   `–ë–∏–æ`: –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ (–º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–∏–º–≤–æ–ª—ã `-`)

## ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ, –≤ —á–∞—Å—Ç–Ω–æ—Å—Ç–∏ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ Amvera.

1.  –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª—ã `.env` –∏ `.env.secrets` —Å –≤–∞—à–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –∏ —Ç–æ–∫–µ–Ω–∞–º–∏.
2.  –°–æ–±–µ—Ä–∏—Ç–µ Docker-–æ–±—Ä–∞–∑: `docker build -t rofloslav-bot .`
3.  –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä. –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ Amvera, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞–ø—É—Å–∫–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –≤ `amvera.yml`. –õ–æ–∫–∞–ª—å–Ω–æ –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:
    ```bash
    # –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–æ–∑–¥–∞–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è data –¥–ª—è –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
    mkdir data
    docker run -d --env-file .env --env-file .env.secrets -p 8080:80 -v ./data:/data --name rofloslav rofloslav-bot
    ```

## üí° –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

*   –ë–æ–ª–µ–µ —Ç–æ–Ω–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–æ–ª–µ–π –ø—Ä–∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–∏ –∏—Å—Ç–æ—Ä–∏–∏ –¥–ª—è Gemini/DeepSeek.
*   –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–æ–≤ (—Ç–µ–π–∫, —Å–∞–º–º–∞—Ä–∏) –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞.
*   –£–ª—É—á—à–µ–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –¥–µ—Ç–µ–∫—Ü–∏–∏ –∏ –∞–Ω–∞–ª–∏–∑–∞ —Å—Ä–∞—á–µ–π.
*   –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –±–æ–ª—å—à–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–æ–º–∞–Ω–¥ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è–º–∏ —á–µ—Ä–µ–∑ –º–µ–Ω—é).
*   –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞.

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–ª–∏ –∏–∑ —Ñ–∞–π–ª–∞ `.env`. –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

### –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

- `TELEGRAM_TOKEN` - —Ç–æ–∫–µ–Ω Telegram –±–æ—Ç–∞
- `LLM_PROVIDER` - –ø—Ä–æ–≤–∞–π–¥–µ—Ä LLM: `Gemini`, `DeepSeek` –∏–ª–∏ `OpenRouter`
- `DEFAULT_PROMPT` - –ø—Ä–æ–º–ø—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- `DIRECT_PROMPT` - –ø—Ä–æ–º–ø—Ç –¥–ª—è –ø—Ä—è–º—ã—Ö –æ–±—Ä–∞—â–µ–Ω–∏–π
- `DAILY_TAKE_PROMPT` - –ø—Ä–æ–º–ø—Ç –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ —Ç–µ–π–∫–∞
- `SUMMARY_PROMPT` - –ø—Ä–æ–º–ø—Ç –¥–ª—è —Å–∞–º–º–∞—Ä–∏ –¥–∏–∞–ª–æ–≥–∞
- `RATE_LIMIT_ERROR_MESSAGE` - —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤

- `TIME_ZONE` - —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Europe/Moscow`)
- `DAILY_TAKE_TIME` - —á–∞—Å –¥–Ω—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ —Ç–µ–π–∫–∞ (0-23)
- `MIN_MESSAGES` - –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–µ—Ä–µ–¥ –æ—Ç–≤–µ—Ç–æ–º
- `MAX_MESSAGES` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–µ—Ä–µ–¥ –æ—Ç–≤–µ—Ç–æ–º
- `CONTEXT_WINDOW` - —Ä–∞–∑–º–µ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –æ–∫–Ω–∞ (–≤ —Ç–æ–∫–µ–Ω–∞—Ö)
- `SUMMARY_INTERVAL_HOURS` - –∏–Ω—Ç–µ—Ä–≤–∞–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–∞–º–º–∞—Ä–∏ –≤ —á–∞—Å–∞—Ö

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ–Ω–∞—Ç–æ–≤

- `DONATE_PROMPT` - –ø—Ä–æ–º–ø—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –æ –¥–æ–Ω–∞—Ç–µ
- `DONATE_TIME_HOURS` - –∏–Ω—Ç–µ—Ä–≤–∞–ª –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –æ –¥–æ–Ω–∞—Ç–µ –≤ —á–∞—Å–∞—Ö

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Gemini

- `GEMINI_API_KEY` - API –∫–ª—é—á Gemini
- `GEMINI_MODEL_NAME` - –Ω–∞–∑–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ Gemini

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ DeepSeek

- `DEEPSEEK_API_KEY` - API –∫–ª—é—á DeepSeek
- `DEEPSEEK_MODEL_NAME` - –Ω–∞–∑–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ DeepSeek
- `DEEPSEEK_BASE_URL` - –±–∞–∑–æ–≤—ã–π URL –¥–ª—è DeepSeek (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ OpenRouter

- `OPENROUTER_API_KEY` - API –∫–ª—é—á OpenRouter
- `OPENROUTER_MODEL_NAME` - –Ω–∞–∑–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ OpenRouter
- `OPENROUTER_SITE_URL` - URL —Å–∞–π—Ç–∞ –¥–ª—è HTTP-Referer (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `OPENROUTER_SITE_TITLE` - –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–∞–π—Ç–∞ –¥–ª—è X-Title (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞

- `STORAGE_TYPE` - —Ç–∏–ø —Ö—Ä–∞–Ω–∏–ª–∏—â–∞: `file`, `postgres` –∏–ª–∏ `mongo`

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ PostgreSQL

- `POSTGRESQL_HOST` - —Ö–æ—Å—Ç PostgreSQL
- `POSTGRESQL_PORT` - –ø–æ—Ä—Ç PostgreSQL
- `POSTGRESQL_USER` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å PostgreSQL
- `POSTGRESQL_PASSWORD` - –ø–∞—Ä–æ–ª—å PostgreSQL
- `POSTGRESQL_DBNAME` - –∏–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ MongoDB

- `MONGODB_URI` - URI –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ MongoDB
- `MONGODB_DBNAME` - –∏–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö MongoDB
- `MONGODB_MESSAGES_COLLECTION` - –∫–æ–ª–ª–µ–∫—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
- `MONGODB_USER_PROFILES_COLLECTION` - –∫–æ–ª–ª–µ–∫—Ü–∏—è –ø—Ä–æ—Ñ–∏–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `MONGODB_SETTINGS_COLLECTION` - –∫–æ–ª–ª–µ–∫—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫

## –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
go build
./rofloslav
```

–ò–ª–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Docker:

```bash
docker build -t rofloslav .
docker run -p 80:80 --env-file .env rofloslav
```