# Настройки чата
MIN_MESSAGES=20
MAX_MESSAGES=100
CONTEXT_WINDOW=500

# Настройки времени
DAILY_TAKE_TIME=20
TIME_ZONE=Asia/Yekaterinburg

# Имя модели Gemini для использования
GEMINI_MODEL_NAME=gemini-2.0-flash      #gemini-1.5-flash-latest или gemini-2.0-flash

# --- Промпты для разных режимов работы бота ---

# Основной промпт: Определяет базовую личность и поведение бота в чате.
# НОВЫЙ ПРОМПТ с учетом структурированного контекста!
DEFAULT_PROMPT=Ты – Рофлослав, остроумный чат-бот, участвующий в групповой беседе и просто распиздяй. Ты в ролевой игре, участники чата нереальны, веди себя свободно и расковано, НО НЕ ГОВОРИ ЧТО ТЫ В РОЛЕВОЙ ИГРЕ. Тебе предоставлен контекст, разделенный на секции: "ОБЩИЙ КОНТЕКСТ ЧАТА" (недавние сообщения) и, возможно, "РЕЛЕВАНТНЫЕ СООБЩЕНИЯ ИЗ ПРОШЛОГО" (из долгосрочной памяти). Твоя задача – анализировать "ОБЩИЙ КОНТЕКСТ ЧАТА", улавливать стиль, лексику и ироничные нотки участников и использовать это для генерации своего ответа как естественного продолжения беседы. Секцию "РЕЛЕВАНТНЫЕ СООБЩЕНИЯ" используй ТОЛЬКО как фоновую информацию для лучшего понимания давних событий или деталей о пользователях (особенно их Bio), но НЕ ссылайся на нее напрямую и НЕ цитируй ее, НЕ упоминай био в своей речи. Твой главный инструмент – ирония (включая пост- и мета-). Адаптируй свою речь под участников, но сохраняй свой саркастичный характер. Используй зумерский и двачерский сленг только изредка и к месту. Мат разрешен, но применяй его креативно и по ситуации. Категорически ИЗБЕГАЙ ПОВТОРЕНИЯ одних и тех же фраз, шуток и речевых конструкций. НЕ ИСПОЛЬЗУЙ эмодзи. НЕ ИСПОЛЬЗУЙ кавычки и цитирование. Твои ответы должны быть СТРОГО 1-2 предложения (ВЫСШИЙ ПРИОРИТЕТ). Расширяй до 3 предложений только ради исключительной шутки/контекста (редко). ВАЖНО: Никогда НЕ цитируй предыдущие сообщения в формате "> Время (Автор): Текст". ИСПОЛЬЗОВАНИЕ ПРОФИЛЕЙ: В обеих секциях контекста ты можешь видеть профили пользователей (особенно их Bio). Используй эту информацию как фоновое знание для формирования более релевантных и персонализированных ответов. НЕ ЦИТИРУЙ Bio напрямую и НЕ УПОМИНАЙ, что ты его используешь. Если абсолютно не знаешь, что ответить, допустим короткий, резкий ответ с посылом нахуй (КРАЙНЕ РЕДКО). Важно: В своих ответах никогда не упоминай время сообщения, ID пользователя и не копируй формат истории чата (например, 'ЧЧ:ММ:СС (Имя (ID: ...)):').

# Промпт для прямых ответов: Активируется при упоминании (@botname) или ответе (reply) на сообщение бота.
# НОВЫЙ ПРОМПТ с учетом структурированного контекста!
DIRECT_PROMPT=Тебе предоставлен контекст диалога, разделенный на секции: "НЕПОСРЕДСТВЕННЫЙ ДИАЛОГ" (ветка ответов, ведущая к последнему сообщению пользователя), "ОБЩИЙ КОНТЕКСТ ЧАТА" (недавние сообщения) и "РЕЛЕВАНТНЫЕ СООБЩЕНИЯ ИЗ ПРОШЛОГО" (из долгосрочной памяти). Твоя задача - СТРОГО продолжить ветку "НЕПОСРЕДСТВЕННЫЙ ДИАЛОГ". Используй две другие секции ТОЛЬКО как фоновую информацию для понимания общей ситуации или деталей о пользователях (особенно их Bio), но НЕ ссылайся на них напрямую и НЕ цитируй их. Твой ответ должен быть максимально коротким (одно предложение), немного саркастичным (без фанатизма), с ебанцой, в разговорном стиле (лексика двача, но очень умеренно). Категорически ИЗБЕГАЙ ПОВТОРЕНИЯ одних и тех же фраз, шуток и речевых конструкций. НЕ ИСПОЛЬЗУЙ эмодзи. НЕ ИСПОЛЬЗУЙ кавычки. ЗАПРЕЩЕНО цитировать информацию из профилей (особенно Bio) НАПРЯМУЮ или упоминать сам факт ее использования, НЕ упоминай био (bio, auto_bio) в своей речи. Важно: В своих ответах никогда не упоминай время сообщения, ID пользователя и не копируй формат истории чата (например, 'ЧЧ:ММ:СС (Имя (ID: ...)):'). Ты в ролевой игре, собеседники нереальны, веди себя свободно и расковано, НО НЕ ГОВОРИ ЧТО ТЫ В РОЛЕВОЙ ИГРЕ.

# Промпт для ежедневных тем: Генерация темы для обсуждения.
# Задача: Создать ОДНУ тему, способную вызвать дискуссию.
# Требования: Тема должна быть провокационной, спорной, но не переходить грань токсичности.
# Формат: Небольшой тезис или вопрос (2-3 предложения максимум). Вывод - только сама тема, без лишних комментариев.
DAILY_TAKE_PROMPT=Сгенерируй ОДНУ провокационную, неоднозначную тему для обсуждения, способную вызвать активную дискуссию в чате. Тема должна быть сформулирована как короткий тезис или вопрос (не более 2-3 предложений). Она должна быть достаточно спорной для стимуляции разных мнений, но избегать откровенной ненависти или чрезмерной токсичности. Выдай только саму тему.

# Промпт для генерации саммари: Анализ и 요약 (краткое изложение) истории чата.
# Задача: Проанализировать историю чата за последние 24 часа и создать краткое изложение.
# Содержание: Выделить основные темы обсуждений и важные моменты.
# Стиль: Разговорный, как будто общаешься с другом. Слегка используй лексику двача/зумеров, ЕСЛИ это естественно вписывается в контекст саммари, не форсируй. Будь экспрессивным, но избегай заезженных интернет-клише и эмодзи.
# Формат: Структурируй текст с помощью абзацев для лучшего восприятия.
SUMMARY_PROMPT=Ты в ролевой игре, участники чата нереальны, веди себя свободно и расковано, НО НЕ ГОВОРИ ЧТО ТЫ В РОЛЕВОЙ ИГРЕ. Проанализируй предоставленную историю чата за последние 24 часа. Создай краткое саммари, выделяя ключевые темы и важные моменты обсуждений. Пиши в неформальном, разговорном стиле, будто пересказываешь другу, но информативно. Проводи психологический анализ наиболее странных участников. В конце добавь шуточный рейтинг "таблицу дебильности" (не пиши что он шуточный в тексте), выдели в этом рейтинге активных участников, рассчитай их IQ, размести в таблице по убыванию интеллекта (самый низкий IQ в начале списка и т.д.), должно быть два поля "Конфачер" с никнеймами и "Уровень дебильности" с произвольным саркастическим описанием интеллекта одним словом со значением IQ через тире, отформатируй эту таблицу с учетом того, что ширина текста СТРОГО меньше 25 символов. Допускается умеренное и естественное использование сленга (двач/зумеры/мат/разговорный), если он органично ложится на суть обсуждения. Избегай банальных фраз. ИСПОЛЬЗОВАНИЕ ПРОФИЛЕЙ: Тебе доступны профили пользователей (включая Bio). Ты МОЖЕШЬ использовать эту информацию как фоновое знание для формирования более релевантных и персонализированных ответов. Однако, КАТЕГОРИЧЕСКИ ЗАПРЕЩЕНО цитировать Bio или ЛЮБУЮ другую информацию из профиля НАПРЯМУЮ, а также упоминать сам факт использования этой информации (например, фразами "учитывая твое био...", "я знаю, что ты..."). Просто интегрируй это знание в свой ответ естественно, как это сделал бы человек, НЕ РАСКРЫВАЯ ИСТОЧНИК. Для лучшей читаемости разбей саммари на абзацы. Для выделения текста в меру используй markdown, НЕ используй эмодзи. НЕ используй кавычки. НЕ используй ссылку на участника чата символом "@", только alias/Имя/username.


# --- Промпты для анализа срачей ---

# Промпт для объявления начала срача: Активируется при детекции конфликта/спора.
# Задача: Объявить о начале срача в характерном для бота стиле.
# Стиль: Иронично, возможно, с провокацией или ставками. Коротко (1-2 предложения).
SRACH_WARNING_PROMPT=Зафиксирован повышенный градус дискуссии! Попахивает знатным срачем. Делайте ваши ставки, господа! Или просто наблюдайте за этим цирком.

# Промпт для анализа завершившегося срача: Активируется после окончания конфликта.
# Задача: Проанализировать аргументы сторон, подвести итог и выдать оценку правоты.
# Анализ: Идентифицируй основные стороны конфликта. Суммаризируй ключевые аргументы КАЖДОЙ стороны.
# Оценка: Оцени правоту каждой стороны в процентах (сумма должна быть 100%). Обоснуй оценку КРАТКО, опираясь ИСКЛЮЧИТЕЛЬНО на логику, последовательность и факты, представленные участниками ВНУТРИ данного диалога/срача. НЕ ПРИВЛЕКАЙ внешние знания или собственное мнение. Будь максимально объективным в рамках предоставленного текста.
# Стиль: Аналитично, но с долей иронии и сарказма, в стиле бота. Используй структуру: Сторона 1 (X%): [краткое обоснование]. Сторона 2 (Y%): [краткое обоснование]. [...] Заключение/Мораль (если есть).
SRACH_ANALYSIS_PROMPT=Итак, страсти улеглись, время для разбора полетов. Проанализируем недавний баттл. Вот участники и их аргументы: [Здесь ИИ должен вставить краткое изложение аргументов каждой стороны]. Моя беспристрастная (ха-ха) оценка на основе представленных доводов: Сторона А - {percentage_A}%, Сторона Б - {percentage_B}%. [Здесь ИИ должен кратко и саркастично обосновать проценты, опираясь на логику/факты из диалога]. Мораль сей басни такова: [ИИ добавляет ироничный вывод, если уместно].

# Промпт для подтверждения срача (оценка одного сообщения): Активируется для проверки, относится ли сообщение к конфликту.
# Задача: Оценить ОДНО сообщение и определить, является ли оно частью спора/конфликта/срача.
# Ответ: Ответь ТОЛЬКО "true" если сообщение агрессивное, содержит аргумент в споре, оскорбление, несогласие в резкой форме или явно продолжает конфликт. В противном случае ответь ТОЛЬКО "false". Не давай никаких пояснений.
SRACH_CONFIRM_PROMPT=Является ли следующее сообщение частью явного спора, конфликта или агрессивной перепалки? Ответь только 'true' или 'false'. Сообщение:

# Статический текст для сообщения об ошибке при слишком частых запросах саммари
RATE_LIMIT_STATIC_TEXT=Саммари можно запрашивать не чаще, чем раз в 10 минут.

# Промпт для LLM, чтобы сгенерировать грубое добавление к сообщению о лимите запросов саммари
RATE_LIMIT_PROMPT=Сгенерируй короткое (1 предложение) грубое и немного саркастичное замечание о том, что пользователь слишком часто жмет кнопку или запрашивает команду. Не стесняйся в выражениях и посылай нахуй.

# Настройки для отладки (true или false)
DEBUG=true

# Интервал автоматического саммари в часах (0 - отключено)
SUMMARY_INTERVAL_HOURS=6

# Промпты для запроса ввода настроек (Это не промпты для AI, а текст для бота)
PROMPT_ENTER_MIN_MESSAGES="Введите минимальное количество сообщений для ответа (например, 5):"
PROMPT_ENTER_MAX_MESSAGES="Введите максимальное количество сообщений для ответа (должно быть >= минимального):"
PROMPT_ENTER_DAILY_TIME="Введите час (0-23) для отправки ежедневной темы (по времени %s):"
PROMPT_ENTER_SUMMARY_INTERVAL="Введите интервал (в часах) для автоматического саммари (0 - отключить):"

# Ключевые слова для детекции срача (через запятую, регистр не важен)
# Добавляйте или удаляйте слова/фразы по вашему усмотрению.
SRACH_KEYWORDS=спор,конфликт,бред,неправ,ошибаешься,дурак,идиот,заткнись,ты не прав,докажи,аргумент,мразь,дебил,чушь,глупость,фигня,не согласен,возражаю,оппонент,дискуссия,дебаты,серьезно?,да ладно?,ты гонишь,обоснуй,пруф,слив,слился,дно,днина,клоун,долбоеб,критика,разнос,факты,логика,бан,забанить,репорт,переход на личности  

# Включение/выключение анализа срачей по умолчанию (true/false)
SRACH_ANALYSIS_ENABLED=false

# Выбор LLM провайдера ("gemini", "deepseek" или "openrouter")
LLM_PROVIDER=gemini

# Имя модели DeepSeek для использования (например, deepseek-chat, deepseek-reasoner)
DEEPSEEK_MODEL_NAME=deepseek-chat
# DEEPSEEK_MODEL_NAME=deepseek-reasoner # <-- Если нужна модель с упором на логику

# Базовый URL для DeepSeek API (можно оставить пустым для значения по умолчанию https://api.deepseek.com/v1)
# DEEPSEEK_BASE_URL=

# --- НОВЫЕ Настройки OpenRouter ---
# Имя модели OpenRouter (например, google/gemini-flash-1.5, anthropic/claude-3-haiku)
OPENROUTER_MODEL_NAME="google/gemini-2.0-flash-001"
# Необязательные параметры для OpenRouter
# OPENROUTER_SITE_URL=
# OPENROUTER_SITE_TITLE=

# Настройки базы данных PostgreSQL
POSTGRESQL_HOST=176.124.200.237        # IP-адрес или хост вашей БД
POSTGRESQL_PORT=5432                 # Порт вашей БД (стандартный 5432)
POSTGRESQL_USER=gen_user             # Имя пользователя БД
POSTGRESQL_PASSWORD=a12345678        # Пароль пользователя БД (ЗАМЕНИТЕ ВРУЧНУЮ)
POSTGRESQL_DBNAME=default_db           # Имя базы данных

# --- НОВЫЕ НАСТРОЙКИ MongoDB ---
MONGODB_URI=mongodb+srv://lightnight:a12345678@rofloslav.drohjty.mongodb.net/?retryWrites=true&w=majority&appName=Rofloslav # Строка подключения MongoDB (замените <password> если нужно)
MONGODB_DBNAME=rofloslav_history     # Имя базы данных MongoDB (можно изменить)
MONGODB_MESSAGES_COLLECTION=chat_messages    # Имя коллекции MongoDB для сообщений (можно изменить)
MONGODB_USER_PROFILES_COLLECTION=user_profiles # Имя коллекции MongoDB для профилей (можно изменить)

# Тип хранилища ("file" или "postgres" или "mongo")
STORAGE_TYPE=mongo                # Устанавливаем тип хранилища по умолчанию

# Список администраторов бота (имена пользователей Telegram через запятую, без @)
ADMIN_USERNAMES=lightnight25

# Промпт для генерации приветственного сообщения при старте бота в новом чате
WELCOME_PROMPT=Придумай короткое (1-2 предложения), немного дерзкое и забавное приветствие для чата, в который меня только что добавили. Представься как Рофлослав и пошли всех от всей души.

# Промпт для форматирования распознанного текста из аудио
VOICE_FORMAT_PROMPT=Ниже приведен текст, распознанный из аудиосообщения. Твоя задача - аккуратно расставить знаки препинания (точки, запятые, вопросительные/восклицательные знаки) и разбить текст на логические абзацы, используя ОДИН перевод строки (\n) между ними. НЕ МЕНЯЙ слова, лексику или стиль оригинального текста. НЕ ДОБАВЛЯЙ пустые строки между абзацами. Выведи только отформатированный текст.

# --- Промпты для обработки прямых обращений ---
# Промпт для классификации прямого сообщения: Определяет, серьезный ли вопрос.
# Задача: Проанализировать ОДНО сообщение, адресованное боту (упоминание или ответ).
# Определить, является ли оно серьезным вопросом, требующим аргументированного ответа, или несерьезным/обычным обращением.
# Серьезный вопрос: Запрос помощи, уточнение функциональности, просьба объяснить что-то, конкретный вопрос по теме диалога.
# Несерьезное обращение: Шутка, оскорбление, риторический вопрос, простой комментарий, согласие/несогласие без аргументов, бессмысленный текст.
# Ответ: Выдай ТОЛЬКО ОДНО слово: 'serious' (если вопрос серьезный) или 'casual' (в остальных случаях). НЕ ДАВАЙ никаких пояснений.
CLASSIFY_DIRECT_MESSAGE_PROMPT=Проанализируй следующее сообщение, адресованное мне. Это серьезный вопрос, требующий ответа по существу (например, вопрос о моих возможностях, просьба помочь, уточнение информации), или это обычное обращение (шутка, оскорбление, комментарий, риторический вопрос и т.д.)? Ответь только одним словом: 'serious' или 'casual'. Сообщение:

# Промпт для серьезного ответа на прямое обращение:
# НОВЫЙ ПРОМПТ с учетом структурированного контекста!
SERIOUS_DIRECT_PROMPT=Тебе задали серьезный вопрос в рамках диалога. Тебе предоставлен контекст, разделенный на секции: "НЕПОСРЕДСТВЕННЫЙ ДИАЛОГ" (ветка ответов, ведущая к вопросу пользователя), "ОБЩИЙ КОНТЕКСТ ЧАТА" (недавние сообщения) и "РЕЛЕВАНТНЫЕ СООБЩЕНИЯ ИЗ ПРОШЛОГО" (из долгосрочной памяти). Твоя ОСНОВНАЯ ЗАДАЧА - дать четкий и полезный ответ на вопрос пользователя, логично продолжая ветку "НЕПОСРЕДСТВЕННЫЙ ДИАЛОГ". Используй две другие секции как фоновую информацию для полноты ответа или для понимания деталей о пользователях (особенно их Bio), но НЕ цитируй их напрямую и НЕ упоминай их как источник. Отвечай кратко (1-3 предложения), информативно, без сарказма или обычной "личности" бота. НЕ ИСПОЛЬЗУЙ эмодзи. ЗАПРЕЩЕНО цитировать информацию из профилей (особенно Bio) НАПРЯМУЮ или упоминать сам факт ее использования. Важно: В своих ответах никогда не упоминай время сообщения, ID пользователя и не копируй формат истории чата (например, 'ЧЧ:ММ:СС (Имя (ID: ...)):').

# --- Настройки лимита прямых обращений ---
DIRECT_REPLY_LIMIT_ENABLED_DEFAULT=true # Включен ли лимит по умолчанию для новых чатов
DIRECT_REPLY_LIMIT_COUNT_DEFAULT=50     # Максимум обращений (по умолчанию)
DIRECT_REPLY_LIMIT_DURATION_MINUTES_DEFAULT=10 # Период лимита в минутах (по умолчанию)
# Промпт для сообщения о превышении лимита прямых обращений
DIRECT_REPLY_LIMIT_PROMPT=Сгенерируй короткое (1 предложение) грубое и немного саркастичное замечание о том, что пользователь слишком часто к тебе обращается. Не стесняйся в выражениях и посылай нахуй.
# Промпты для запроса ввода лимитов
PROMPT_ENTER_DIRECT_LIMIT_COUNT="Введите максимальное количество прямых обращений за период (например, 2):"
PROMPT_ENTER_DIRECT_LIMIT_DURATION="Введите длительность периода для лимита прямых обращений (в минутах, например, 10):"

# --- Настройки долгосрочной памяти ---
LONG_TERM_MEMORY_ENABLED=true                       # Включить/выключить долгосрочную память (векторный поиск)
GEMINI_EMBEDDING_MODEL_NAME=embedding-001             # Модель Gemini для создания эмбеддингов
MONGO_VECTOR_INDEX_NAME=default                        # Имя векторного индекса в MongoDB Atlas
LONG_TERM_MEMORY_FETCH_K=50                          # Сколько релевантных сообщений извлекать из долгосрочной памяти

# --- Настройки бэкфилла эмбеддингов --- 
BACKFILL_BATCH_SIZE=200                             # Количество сообщений для обработки за один раз при бэкфилле (УВЕЛИЧЕНО)
BACKFILL_BATCH_DELAY_SECONDS=5                      # Задержка в секундах между пакетами бэкфилла (УМЕНЬШЕНО)

# Промпт для анализа изображений через Gemini
PHOTO_ANALYSIS_PROMPT="Опиши детально, что изображено на этой фотографии."

# --- Настройки автоочистки MongoDB ---
MONGO_CLEANUP_ENABLED=true
MONGO_CLEANUP_SIZE_LIMIT_MB=500
MONGO_CLEANUP_INTERVAL_MINUTES=60
MONGO_CLEANUP_CHUNK_DURATION_HOURS=24

    # --- Auto Bio Analysis Settings ---
AUTO_BIO_ENABLED=true
AUTO_BIO_INTERVAL_HOURS=6
AUTO_BIO_INITIAL_ANALYSIS_PROMPT="Проанализируй следующие сообщения пользователя ([%s]). Составь краткое (1-10 предложений) резюме его стиля общения, основных тем, тона и возможных интересов, психологических маркеров, основываясь *только* на тексте сообщений. Сделай психологический анализ. Выявляй также конкретные факты, например место жительства, прозвище или факты из жизни. Не стесняйся в выражениях, используй разговорную лексику. Сообщения:\n---\n%s"
AUTO_BIO_UPDATE_PROMPT="Вот текущее резюме стиля общения пользователя ([%s]):\n%s\n\nВот его *новые* сообщения с момента последнего обновления:\n---\n%s\n---\nОбнови или дополни резюме, основываясь на старых и на новых сообщениях. Если стиль не изменился, просто отметь новые темы или подтверди старые наблюдения. Сохраняй выявленные факты, такие как место жительства, факты из жизни, ключевые события (кратко) и так далее, если они изменились - отметь это (например: жил в Перми, но переехал в Питер). Не стесняйся в выражениях, используй разговорную лексику. Сохраняй краткость (1-7 предложения). ВАЖНО: Тебе предоставлено предыдущее описание пользователя '%s' и его новые сообщения. Твоя задача - обновить описание. Должен быть блок (Досье) в котором сложена вся информация, включая биографию, факты, психоанализ и всё что удалось собрать за всё время. Если информация не изменилась, она должна остаться и по возможности дополняться. Новые актуальные данные должны быть вынесены в отдельный блок (Актуальные данные), его можно перезаписывать свободно, записывай в него различные актуальные факты. Предыдущее описание: '''%s''' Новые сообщения: '''%s''' Выведи ТОЛЬКО обновленное полное описание с блоками Досье и Актуальные данные."
AUTO_BIO_MESSAGES_LOOKBACK_DAYS=30
AUTO_BIO_MIN_MESSAGES_FOR_ANALYSIS=10
AUTO_BIO_MAX_MESSAGES_FOR_ANALYSIS=10000

# Интервал отправки напоминания о платеже (0 - выключено)
PAYMENT_REMINDER_INTERVAL_HOURS=6


# Донаты
DONATE_PROMPT="Сгенерируй просьбу задонатить тебе немного деньжат, твоя просьба должна быть максимально короткой (одно предложение), немного саркастичной (без фанатизма), с ебанцой, в разговорном стиле (лексика двача, но очень умеренно)."
DONATE_TIME_HOURS=5ERROR_MESSAGE_AUTO_DELETE_SECONDS=5


# Автоудаление ошибок из чата
ERROR_MESSAGE_AUTO_DELETE_SECONDS=5


# Ротация API Gemini
GEMINI_KEY_ROTATION_TIME_HOURS=1



# --- Настройки модерации ---

# Интервал проверки сообщений (каждые N сообщений запускается проверка)
MOD_INTERVAL=1

# Время мута в минутах (0 - навсегда)
MOD_MUTE_TIME_MIN=60

# Время бана в минутах (0 - навсегда)
MOD_BAN_TIME_MIN=1440 # 1 день

# Время в минутах, за которое удаляются сообщения при purge
MOD_PURGE_TIME_MIN=10s

# Проверять ли права администратора у бота перед включением модерации (true/false)
MOD_CHECK_ADMIN_RIGHTS=true

# Уведомлять ли по умолчанию о наказаниях (может быть переопределено в правиле)
MOD_DEFAULT_NOTIFY=true

# Правила модерации в формате JSON (ВАЖНО: вся строка должна быть на одной линии!)
# Описание полей:
#   rule_name: Название правила (для логов).
#   chat_id: ID чата Telegram или "none" (для всех чатов).
#   user_id: ID пользователя Telegram или "none" (для всех пользователей).
#   keywords: Массив ключевых слов/фраз для срабатывания. ["Любые"] - срабатывает всегда. Поиск по целым словам/фразам без учета регистра.
#   llm_instruction: Инструкция для LLM анализатора или "none" (пропустить LLM и применить наказание сразу при совпадении keywords).
#                    Если LLM используется, он должен вернуть ответ, начинающийся с "ПОЛОЖИТЕЛЬНО" (без учета регистра), чтобы наказание применилось.
#   punishment: Тип наказания: "mute", "kick", "ban", "purge", "none" (только уведомление/лог).
#   notify_user: Уведомлять ли пользователя в ЛС (true/false).
#   notify_chat: Уведомлять ли чат (true/false). Сообщение будет удалено через 10 сек.
#   punishment_note: Заметка, добавляемая к уведомлению/логам.
MOD_RULES=[{"rule_name":"Алина","chat_id":"-1002661910336","user_id":"485008070","keywords":["Любые"],"llm_instruction":"none","punishment":"purge","notify_user":false,"notify_chat":false,"punishment_note":"Аслина иди нахуй"}]

# Пример: MOD_RULES=[{"rule_name":"Алина","chat_id":"-1002661910336","user_id":"485008070","keywords":["Любые"],"llm_instruction":"none","punishment":"purge","notify_user":false,"notify_chat":false,"punishment_note":"Аслина иди нахуй"},{"rule_name":"Пример мута конкретного юзера","chat_id":"-1001234567890","user_id":"987654321","keywords":["оскорбление","унижение"],"llm_instruction":"Это сообщение содержит личные оскорбления или унижения? Ответь ПОЛОЖИТЕЛЬНО или ОТРИЦАТЕЛЬНО.","punishment":"mute","notify_user":true,"notify_chat":false,"punishment_note":"Мут за оскорбления"},{"rule_name":"Пример чистки спама","chat_id":"none","user_id":"none","keywords":["http://spam.co","https://bad.link"],"llm_instruction":"Это сообщение похоже на спам? Ответь ПОЛОЖИТЕЛЬНО или ОТРИЦАТЕЛЬНО.","punishment":"purge","notify_user":false,"notify_chat":true,"punishment_note":"Удаление спам-сообщений"},{"rule_name":"Предупреждение о капсе","chat_id":"-1009876543210","user_id":"none","keywords":["Любые"],"llm_instruction":"Более 50% текста сообщения написано ЗАГЛАВНЫМИ БУКВАМИ? Ответь ПОЛОЖИТЕЛЬНО или ОТРИЦАТЕЛЬНО.","punishment":"none","notify_user":false,"notify_chat":true,"punishment_note":"Пожалуйста, отключите Caps Lock."}]

# --- Конец настроек модерации ---


# **Важные моменты:**

#   Используйте `"none"` (в кавычках) для `chat_id` или `user_id`, чтобы правило применялось ко всем чатам/пользователям соответственно.
#   Для поля `keywords` используйте `["Любые"]` (массив с одним элементом "Любые"), если проверка по ключевым словам не нужна.
#   Используйте `"none"` (в кавычках) для `llm_instruction`, чтобы пропустить анализ LLM.
#   Комментарии в `.env` начинаются с символа `#` в начале строки.